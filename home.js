function getRandomSixDigitNumber(){return Math.floor(9e5*Math.random())+1e5}function logEvent(e){const t=Cookies.get("hid"),o=$("#cta_search").val();fetch("https://jwl9awuxl0.execute-api.us-east-1.amazonaws.com/default/GOF_KPI",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({t:e,hid:t,search:o})})}function convertFormToJSON(e){var t=$(e).serializeArray(),o={};return $.each(t,(function(){o[this.name]=this.value||""})),JSON.stringify(o)}$(document).ready((function(){var e=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)}).h;if(e?($(".h_hid").val(e),Cookies.set("hid",e,{expires:300})):e=Cookies.get("hid"),e)$(".h_hid").val(e);else{var t=Cookies.get("pe");if(!t){t=`${getRandomSixDigitNumber()}@gmail.com`,Cookies.set("pe",t,{expires:300})}$(".prov_email").val(t)}Cookies.get("cb")||$("#cookies_banner").addClass("show")})),$("#contact_form").each((function(e,t){var o=$(t);o.submit((function(e){e.preventDefault();var t=convertFormToJSON(o=$(e.target));logEvent("Contact form submission");const a=function(e,t,o,a){const n=e.includes("?")?"&":"?",[c,s]=e.split("&parentHubspotUtk");return c+(n+"firstName="+encodeURIComponent(t)+"&lastName="+encodeURIComponent(o)+"&email="+encodeURIComponent(a))+"&parentHubspotUtk"+s}($("iframe").attr("src"),$("#cta_first_name").val(),$("#cta_last_name").val(),$("#cta_email").val());$("iframe").attr("src",a),$("#contact_title").html("When should we reach out back?"),$("#contact_form").removeClass("show"),$("#calendar_div").addClass("show"),fetch("https://spq03lik42.execute-api.us-east-1.amazonaws.com/default/GOF_Contact",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:t}).then((e=>e.json())).then((e=>{$("#contact_form").trigger("reset")}))}))})),$("#close_cookies").click((function(){$("#cookies_banner").removeClass("show"),Cookies.set("cb","C",{expires:300})})),$("#accept_cookies").click((function(){$("#cookies_banner").removeClass("show"),Cookies.set("cb","A",{expires:300})})),$("#decline_cookies").click((function(){$("#cookies_banner").removeClass("show"),Cookies.set("cb","D",{expires:300})})),$("#lets_talk_cta").click((function(){$("#contact_title").html("Hey, let’s connect!"),$("#contact_form").addClass("show"),$("#calendar_div").removeClass("show"),$("#cta_note").val("Hello! I‘m looking for an owner-financed property near "),$("#cta_modal").attr("style","display:flex"),$("#cta_source").val("Lets talk"),logEvent("CTA Lets talk")})),$("#header_cta").click((function(){$("#contact_title").html("Hey, let’s connect!"),$("#contact_form").addClass("show"),$("#calendar_div").removeClass("show"),$("#cta_note").val("Hello! I‘m looking for an owner-financed property near "),$("#cta_modal").attr("style","display:flex"),$("#cta_source").val("Home header CTA"),logEvent("Home header CTA")})),$("#search_form").each((function(e,t){var o=$(t);o.submit((function(e){e.preventDefault();var t=convertFormToJSON(o=$(e.target));fetch("https://7vhlbwxka7.execute-api.us-east-1.amazonaws.com/default/GOF_Search",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:t}).then((e=>e.json())).then((e=>{const t=e,o=t.redir,a=t.hid;a&&Cookies.set("hid",a,{expires:300}),location.href=o}))}))}));
